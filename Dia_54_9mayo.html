<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.335">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Daniel Felipe Villa Rengifo">
<meta name="dcterms.date" content="2021-09-05">

<title>Dia_54_mayo</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="Dia_54_9mayo_files/libs/clipboard/clipboard.min.js"></script>
<script src="Dia_54_9mayo_files/libs/quarto-html/quarto.js"></script>
<script src="Dia_54_9mayo_files/libs/quarto-html/popper.min.js"></script>
<script src="Dia_54_9mayo_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="Dia_54_9mayo_files/libs/quarto-html/anchor.min.js"></script>
<link href="Dia_54_9mayo_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="Dia_54_9mayo_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="Dia_54_9mayo_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="Dia_54_9mayo_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="Dia_54_9mayo_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">


</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Dia_54_mayo</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Daniel Felipe Villa Rengifo </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">September 5, 2021</p>
    </div>
  </div>
  
    
  </div>
  

</header>

<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="st">"Protocolo:</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="st">+ Daniel Felipe Villa Rengifo</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="st">+ Lenguaje: R</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="st">+ Tema: Manejo de archivos *.csv (realice al menos dos ejercicios que requieran cargar archivos externos, leer y procesar la información del archvo leído, y guardar las respuestas a los ejercicios  en archivos independientes)</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="st">+ Fuentes:</span></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a><span class="st">  1. https://www.generatedata.com</span></span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a><span class="st">   </span></span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a><span class="st">  2. https://r-coder.com/leer-csv-r/"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Protocolo:\n\n+ Daniel Felipe Villa Rengifo\n\n+ Lenguaje: R\n\n+ Tema: Manejo de archivos *.csv (realice al menos dos ejercicios que requieran cargar archivos externos, leer y procesar la información del archvo leído, y guardar las respuestas a los ejercicios  en archivos independientes)\n\n+ Fuentes:\n\n  1. https://www.generatedata.com\n   \n  2. https://r-coder.com/leer-csv-r/"</code></pre>
</div>
</div>
<section id="cómo-leer-un-csv-en-r" class="level1">
<h1>¿Cómo leer un CSV en R?</h1>
<p>Para cargar los datos utilizamos la función <code>read.csv(…)</code>, esta es la función más sencilla para leer archivos CSV.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Por defecto coma (,) como separador y punto (.) como separador decimal</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="fu">read.csv</span>(file,                 <span class="co"># Nombre del archivo o ruta completa del archivo</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>         <span class="at">header =</span> <span class="cn">TRUE</span>,        <span class="co"># Leer el encabezado (TRUE) o no (FALSE)</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>         <span class="at">sep =</span> <span class="st">","</span>,            <span class="co"># Separador de los valores</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>         <span class="at">quote =</span> <span class="st">"</span><span class="sc">\"</span><span class="st">"</span>,         <span class="co"># Caracter de citaciones</span></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>         <span class="at">dec =</span> <span class="st">"."</span>,            <span class="co"># Punto decimal</span></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>         <span class="at">fill =</span> <span class="cn">TRUE</span>,          <span class="co"># Rellenar celdas vacías (TRUE) o no (FALSE)</span></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>         <span class="at">comment.char =</span> <span class="st">""</span>,    <span class="co"># Carácter de los comentarios o cadenas vacías</span></span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>         <span class="at">encoding =</span> <span class="st">"unknown"</span>, <span class="co"># Codificación del archivo</span></span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>         ...)                  <span class="co"># Argumentos adicionales</span></span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Por defecto punto y coma (;) como separador y coma (,) como separador decimal:</span></span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a><span class="fu">read.csv2</span>(file, <span class="at">header =</span> <span class="cn">TRUE</span>, <span class="at">sep =</span> <span class="st">";"</span>, <span class="at">quote =</span> <span class="st">"</span><span class="sc">\"</span><span class="st">"</span>, <span class="at">dec =</span> <span class="st">","</span>,</span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a>          <span class="at">fill =</span> <span class="cn">TRUE</span>, <span class="at">comment.char =</span> <span class="st">""</span>, <span class="at">encoding =</span> <span class="st">"unknown"</span>, ...)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="ejemplo" class="level1">
<h1>1° Ejemplo</h1>
<p>El primer ejercicio consiste en importar una base de datos de una central de envios donde contienen los siguientes parametros:</p>
<ul>
<li><p><code>Region</code>: Continente</p></li>
<li><p><code>item type</code>: Productos que envia:</p>
<ol type="1">
<li>Office Supplies</li>
<li>Vegetables</li>
<li>Fruits</li>
<li>Cosmetics</li>
<li>Cereal</li>
<li>Baby Food</li>
<li>Beverages</li>
<li>Snacks</li>
<li>Clothes</li>
<li>Household</li>
<li>Personal Care</li>
<li>Meat</li>
</ol></li>
<li><p><code>Sales Channel</code>: Canal de la venta:</p>
<ol type="1">
<li>Online</li>
<li>Offline</li>
</ol></li>
<li><p><code>Order Priority</code>:Prioridad del envio</p>
<ol type="1">
<li><code>C</code>: Critico</li>
<li><code>H</code>: Alto</li>
<li><code>M</code>: Medio</li>
<li><code>L</code>: Bajo</li>
</ol></li>
<li><p><code>Unit Price</code>: Precio unitario</p></li>
<li><p><code>Unit Cost</code>: Costo Unitario</p></li>
<li><p><code>Total Revenue</code>: Ingresos totales</p></li>
<li><p><code>Total Cost</code>: Costos totales</p></li>
<li><p><code>Total Profit</code>: Beneficio Total</p></li>
</ul>
<section id="importar-la-base-de-datos" class="level2">
<h2 class="anchored" data-anchor-id="importar-la-base-de-datos">Importar la base de datos:</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Importar la base de datos:</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="do">## Vamos a convertir las columnas de la 1 a la 4 en factores:</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a><span class="st">"Gracias a esto cuando hagamos el resumen, se generaran niveles en los cuales haran un conteo de cada uno, necesario para el ejercicio"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Gracias a esto cuando hagamos el resumen, se generaran niveles en los cuales haran un conteo de cada uno, necesario para el ejercicio"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>base_envios <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"Central de Envios.csv"</span>, <span class="at">stringsAsFactors =</span> T)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>ahora vamos a hacer un resumen el cual nos dara unos datos importantes:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Hacer un resumen de la base de datos anterior:</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>resumen <span class="ot">=</span> <span class="fu">summary</span>(base_envios)</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a><span class="do">## Ahora exportamos el resumen como un archivo csv:</span></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(resumen, <span class="at">file =</span> <span class="st">"Resumen.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="tabla-ingresos-totales-respecto-al-canal-de-venta" class="level2">
<h2 class="anchored" data-anchor-id="tabla-ingresos-totales-respecto-al-canal-de-venta">Tabla Ingresos totales, respecto al canal de venta:</h2>
<p>Primero tenemos que filtrar nuestra base de datos extrayendo solo los siguientes datos:</p>
<ul>
<li><p><code>Region</code>: Continente</p></li>
<li><p><code>Sales Channel</code>: Canal de la venta:</p>
<ol type="1">
<li>Online</li>
<li>Offline</li>
</ol></li>
<li><p><code>Total Revenue</code>: Ingresos totales</p></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="do">## Importamos la libreria dplyr:</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>
Attaching package: 'dplyr'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following objects are masked from 'package:stats':

    filter, lag</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following objects are masked from 'package:base':

    intersect, setdiff, setequal, union</code></pre>
</div>
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Creamos un dataframe con las anteriores columnas:</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>ingresoXCanal <span class="ot">&lt;-</span> <span class="fu">select</span>(base_envios, Region, Sales.Channel, Total.Revenue)</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a><span class="do">## Exportemos el resultado, eliminando la numeración:</span></span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(ingresoXCanal, <span class="at">file =</span> <span class="st">"IngresoXCanal.csv"</span>, <span class="at">row.names =</span> F)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Separemos los datos para hacer un conteo por canal de venta:</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>online <span class="ot">&lt;-</span> <span class="fu">filter</span>(ingresoXCanal, Sales.Channel <span class="sc">==</span> <span class="st">"Online"</span>)</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>offline <span class="ot">&lt;-</span> <span class="fu">filter</span>(ingresoXCanal, Sales.Channel <span class="sc">==</span> <span class="st">"Offline"</span>)</span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Intentemos hacer una tabla de datos para online y offline (conteo) para hallar quien vendio mas o menos por Región:</span></span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a>solucion_online <span class="ot">&lt;-</span> <span class="fu">aggregate</span>(Total.Revenue <span class="sc">~</span> Region, online, sum)</span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a>solucion_offline <span class="ot">&lt;-</span> <span class="fu">aggregate</span>(Total.Revenue <span class="sc">~</span> Region, offline, sum)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Ahora ya podemos exportar y ver quien tuvo más o mneos ingresos</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Exportamos los datos anteriores:</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(solucion_online, <span class="at">file =</span> <span class="st">"Solucion_Online.csv"</span>, <span class="at">row.names =</span> F)</span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(solucion_offline, <span class="at">file =</span> <span class="st">"Solucion_Offline.csv"</span>, <span class="at">row.names =</span> F)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="hagamos-una-suma-en-la-cual-veamos-los-beneficios-totales-por-prioridad-de-orden" class="level2">
<h2 class="anchored" data-anchor-id="hagamos-una-suma-en-la-cual-veamos-los-beneficios-totales-por-prioridad-de-orden">hagamos una suma en la cual veamos los beneficios totales por prioridad de orden:</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Hagamos una selección de las columnas solicitadas:</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>beneficioXprioridad <span class="ot">&lt;-</span> <span class="fu">select</span>(base_envios, Order.Priority, Total.Profit)</span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a><span class="co"># ahaora hagamos una suma por prioridades:</span></span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>resultado <span class="ot">&lt;-</span> <span class="fu">aggregate</span>(Total.Profit <span class="sc">~</span> Order.Priority, beneficioXprioridad, sum)</span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Visualicemos:</span></span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(resultado)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  Order.Priority Total.Profit
1              C      6748328
2              H     16891600
3              L     10858728
4              M      9669543</code></pre>
</div>
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Exportemos el resultado a csv:</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(resultado, <span class="at">file =</span> <span class="st">"Resultado.csv"</span>, <span class="at">row.names =</span> F)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="ejercicio" class="level1">
<h1>2° Ejercicio:</h1>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Importemos la base de datos:</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>base <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"Ejemplo.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Vamos a realizar el siguiente ejercicio:</p>
<ul>
<li><p>Vamos a filtrar la base de datos para ver si es:</p>
<ol type="1">
<li>Si es mayor de edad (+18)</li>
<li>si es parte de la tercera edad (+60)</li>
</ol></li>
<li><p>Vamos a hacer un conteo por sus colores favoritos, para descubrir que color es mas favorecido.</p></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Empecemos por filtrar edades:</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Veamos si es mayor de edad, para serlo (en colombia) la mayoria de edad se cumple a los 18:</span></span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a>mas18 <span class="ot">&lt;-</span> <span class="fu">filter</span>(base, Ages <span class="sc">&gt;=</span> <span class="dv">18</span>)</span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(mas18)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>          Names Ages phone.number favorite.color
1      Amethyst   28   3587017686            red
2        Justin   89   3691598398         yellow
3       Arsenio   70   3543968444           blue
4       Arsenio   25   3028641650            red
5        Jescie   62   3021908572         orange
6   Christopher   43   3634566640         violet
7          Quin   73   3580024473           blue
8        Hamish   57   3767812932         yellow
9          Dora   64   3924259460          green
10        Macon   59   3472691105         yellow
11       Kasper   34   3460516110         orange
12        Kitra   36   3922684219         yellow
13        Timon   22   3022922833            red
14        Thane   24   3099207922         orange
15     Mercedes   94   3739825260         indigo
16    Genevieve   53   3031111641            red
17       Kareem   95   3126944555          green
18       Elaine   19   3235809337          green
19          Len   39   3014514823         orange
20      Vincent   86   3777374953         orange
21       Blythe   61   3963328603         violet
22         Dara   44   3555379892         violet
23        Hedda   28   3165542046         orange
24        Hayes   76   3093085076          green
25        Quinn   57   3229217082          green
26      Jamalia   68   3120740774         yellow
27        Blake   22   3795431615         yellow
28       Samuel   71   3851066448            red
29     Courtney   32   3857647167          green
30       Jakeem   96   3777931921         yellow
31        Diana   56   3114856117            red
32       Maryam   48   3286274226          green
33   Fredericka   50   3404454351         orange
34        Aline   61   3270744360         yellow
35         Mark   59   3619769440         yellow
36       Thomas   79   3965619227         indigo
37         Jael   87   3523479749            red
38     Hyacinth   54   3826402775           blue
39          Eve   60   3315184187         orange
40          Dai   40   3717335504         yellow
41       Herrod   55   3979405624         violet
42      Patrick   98   3620490594         indigo
43       Kellie   97   3960255298         yellow
44        Lydia   93   3567004004          green
45        Amity   36   3975840060         orange
46        Eagan   97   3120958312         indigo
47         Veda   40   3778913335         violet
48     Kirestin   22   3197517430           blue
49        Colin   72   3059524374            red
50        Burke   21   3886043678         violet
51       Rashad   88   3864338042         orange
52         Kyle   30   3223060979         indigo
53        Brody   58   3221611057         indigo
54      Raymond   22   3726315540         indigo
55         Mark   84   3373444736          green
56         Nash   68   3851058743         yellow
57      Martina   20   3382994088         violet
58     Nomlanga   63   3842454682          green
59       Carson   35   3126106477         yellow
60      Barrett   89   3420870934         indigo
61      Yolanda   40   3503361162          green
62         Bert   58   3396165134          green
63      Orlando   56   3097484739         yellow
64       Murphy   90   3807761269         violet
65        Thane   62   3993975067         orange
66        Noble   24   3875666623            red
67        Jolie   99   3766934025         yellow
68       Ayanna   19   3008923987           blue
69    Nathaniel   34   3203644652          green
70        Henry   48   3439754016         violet
71       Murphy   18   3611119082            red
72        Avram   19   3916793292           blue
73      Yardley   23   3781801228         indigo
74       Howard   21   3606272772          green
75        Wyatt   40   3876529680         yellow
76    Sylvester   95   3278823329           blue
77         Iona   28   3468688197         violet
78       Martin   30   3091848200          green
79        Wayne   48   3704923668          green
80      Larissa   26   3602556965           blue
81        Timon   47   3492863224         orange
82     Lysandra   74   3052472416         yellow
83        Keane   47   3494303606          green
84        Barry   82   3799270398            red
85        Kiara   32   3302986690          green
86       Marvin   63   3079878223           blue
87     Macaulay   43   3700467177         yellow
88       Fatima   37   3266217664         indigo
89        Steel   31   3834708521         orange
90        Carol   53   3205876948          green
91       Claire   48   3469833918         violet
92       Tanner   21   3994936369            red
93       Declan   87   3559467541         indigo
94     Macaulay   98   3801332086          green
95      Alfonso   98   3640219904           blue
96       Lenore   48   3262542227            red
97      Gregory   90   3721061607            red
98       Trevor   61   3418371751           blue
99       Lucian   71   3150778179         orange
100     Shellie   67   3493175391         yellow</code></pre>
</div>
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Extraigamos todas las personas que son mayores de edad:</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>mas60 <span class="ot">&lt;-</span> <span class="fu">filter</span>(base, Ages <span class="sc">&gt;=</span> <span class="dv">60</span>)</span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(mas60)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>       Names Ages phone.number favorite.color
1     Justin   89   3691598398         yellow
2    Arsenio   70   3543968444           blue
3     Jescie   62   3021908572         orange
4       Quin   73   3580024473           blue
5       Dora   64   3924259460          green
6   Mercedes   94   3739825260         indigo
7     Kareem   95   3126944555          green
8    Vincent   86   3777374953         orange
9     Blythe   61   3963328603         violet
10     Hayes   76   3093085076          green
11   Jamalia   68   3120740774         yellow
12    Samuel   71   3851066448            red
13    Jakeem   96   3777931921         yellow
14     Aline   61   3270744360         yellow
15    Thomas   79   3965619227         indigo
16      Jael   87   3523479749            red
17       Eve   60   3315184187         orange
18   Patrick   98   3620490594         indigo
19    Kellie   97   3960255298         yellow
20     Lydia   93   3567004004          green
21     Eagan   97   3120958312         indigo
22     Colin   72   3059524374            red
23    Rashad   88   3864338042         orange
24      Mark   84   3373444736          green
25      Nash   68   3851058743         yellow
26  Nomlanga   63   3842454682          green
27   Barrett   89   3420870934         indigo
28    Murphy   90   3807761269         violet
29     Thane   62   3993975067         orange
30     Jolie   99   3766934025         yellow
31 Sylvester   95   3278823329           blue
32  Lysandra   74   3052472416         yellow
33     Barry   82   3799270398            red
34    Marvin   63   3079878223           blue
35    Declan   87   3559467541         indigo
36  Macaulay   98   3801332086          green
37   Alfonso   98   3640219904           blue
38   Gregory   90   3721061607            red
39    Trevor   61   3418371751           blue
40    Lucian   71   3150778179         orange
41   Shellie   67   3493175391         yellow</code></pre>
</div>
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Exportemos los resultados:</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(mas18, <span class="at">file =</span> <span class="st">"Mayor_Edad.csv"</span>, <span class="at">row.names =</span> F)</span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(mas60, <span class="at">file =</span> <span class="st">"Terccera_Edad.csv"</span>, <span class="at">row.names =</span> F)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Ahora vamos hacer un conteo para descubrir cual es el color mas favorecido:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Generemos un conteo con la función table():</span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>likeCol <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="fu">table</span>(base<span class="sc">$</span>favorite.color))</span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="st">"Observamos que el color ganador es el verde con una diferencia de 1 contra el amarillo"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Observamos que el color ganador es el verde con una diferencia de 1 contra el amarillo"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Exportemos el resultado:</span></span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(likeCol, <span class="at">file =</span> <span class="st">"Conteo_ColFavorite.csv"</span>, <span class="at">row.names =</span> F)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>